{"version":3,"sources":["../../../js/player/Birds.js"],"names":["Birds","image","getImage","width","height","clippingX","clippingY","clippingWidth","clippingHeight","birdX","window","innerWidth","birdsX","birdY","innerHeight","birdsY","y","birdWidth","birdsWidth","birdHeight","birdsHeight","index","count","time","speed","Math","floor","g","offsetUp","offsetY","i","img"],"mappings":"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","file":"Birds.js","sourcesContent":["import {Sprite} from \"../base/Sprite.js\";\r\n\r\nexport class Birds extends Sprite{\r\n\r\n    constructor(){\r\n        const image = Sprite.getImage('birds');\r\n        super(image,0,0,image.width,image.height,0,0,image.width,image.height);\r\n\r\n        //小鸟的三种状态用数组来存储\r\n        //宽34 高24 上下边距10 左右边距9\r\n        this.clippingX = [9,9+34+18,9+34+18+34+18];\r\n        this.clippingY = [10,10,10];\r\n        this.clippingWidth = [34,34,34];\r\n        this.clippingHeight = [24,24,24];\r\n        this.birdX = window.innerWidth/4;\r\n        this.birdsX = [this.birdX,this.birdX,this.birdX];\r\n        this.birdY = window.innerHeight/2;\r\n        this.birdsY = [this.birdY,this.birdY,this.birdY];\r\n        this.y = [this.birdY,this.birdY,this.birdY];\r\n        this.birdWidth = 34;\r\n        this.birdsWidth = [this.birdWidth,this.birdWidth,this.birdWidth];\r\n        this.birdHeight = 24;\r\n        this.birdsHeight = [this.birdHeight,this.birdHeight,this.birdHeight];\r\n        this.index = 0;\r\n        this.count = 0;\r\n        this.time = 0;\r\n    }\r\n\r\n    draw() {\r\n        //小鸟切换的速度\r\n        const speed = .2;\r\n        this.count = this.count + speed;\r\n        if(this.index>=2){\r\n            this.count = 0;\r\n        }\r\n        //减速器的作用\r\n        this.index = Math.floor(this.count);\r\n\r\n        //重力加速度\r\n        const g = 0.98 / 2.4;\r\n\r\n        //向上的偏移效果\r\n        const offsetUp = 30;\r\n        //小鸟的位移\r\n        const offsetY = (this.time*(this.time - offsetUp)*g)/2;\r\n        for(let i = 0;i<=2;i++){\r\n            this.birdsY[i] = this.y[i] + offsetY;\r\n        }\r\n        this.time++;\r\n\r\n        super.draw(this.img,\r\n            this.clippingX[this.index],this.clippingY[this.index],\r\n            this.clippingWidth[this.index],this.clippingHeight[this.index],\r\n            this.birdsX[this.index],this.birdsY[this.index],\r\n            this.birdsWidth[this.index],this.birdsHeight[this.index],)\r\n    }\r\n\r\n\r\n\r\n}"]}